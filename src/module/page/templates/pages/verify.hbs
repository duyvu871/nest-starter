{{> header title="Verify Account - MyApp"}}

<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full space-y-8">
    <div>
      <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
        Verify Your Account
      </h2>
      <p class="mt-2 text-center text-sm text-gray-600">
        Enter the 6-digit verification code sent to your email
      </p>
    </div>

    {{#if message}}
    <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-md">
      {{message}}
    </div>
    {{/if}}

    {{#if error}}
    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md">
      {{error}}
    </div>
    {{/if}}

    {{#if hasSession}}
    <form class="mt-8 space-y-6" action="/verify" method="POST">
      <div>
        <label for="code" class="block text-sm font-medium text-gray-700">
          Verification Code
        </label>
        <input
          id="code"
          name="code"
          type="text"
          autocomplete="off"
          required
          class="mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
          placeholder="Enter 6-digit code"
          maxlength="6"
          pattern="[0-9]{6}"
        />
        <p class="mt-2 text-sm text-gray-500">
          Please enter the 6-digit code from your email
        </p>
      </div>

      <div>
        <button
          type="submit"
          class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
        >
          Verify Account
        </button>
      </div>

      <div class="text-center space-y-2">
        <p class="text-sm text-gray-600">
          Didn't receive the code?
        </p>
        <a href="/resend-verification" class="text-sm text-indigo-600 hover:text-indigo-500">
          Resend verification code
        </a>
        <br>
        <a href="/login" class="text-sm text-gray-600 hover:text-gray-500">
          Back to Login
        </a>
      </div>
    </form>
    {{else}}
    <div class="bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-md">
      <p class="font-medium">No active verification session found.</p>
      <p class="mt-2 text-sm">Please <a href="/register" class="underline">register</a> or <a href="/login" class="underline">login</a> to continue.</p>
    </div>
    {{/if}}
  </div>
</div>

{{> footer}}